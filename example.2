
pool,star_x,65536,float
pool,star_y,65536,float
pool,rng_state,1,uint32_t


fn,rng-stateless
lit,48271UL,A
lit,2147483647UL,B
mul,Aaa 
mod,aBa
inc,a
end

fn,rng type,uint32_t,B
rng-state,B mov,BA rng-stateless,A mov,Aa mov,AB
rng-state-store,B
end

fn,frng type,float,a
rng,A mov,Aa
end


fn,create type,float,A
frng,A star-x-storei,Aa frng,A star-y-storei,Aa inc,a lt,abz
c printf("CR %llu %llu %llu\n", a[0], b[0], z[0]);
end

fn,populate
lit,0,A
star-x-size,B
loop,Z create,ABZ
end

fn,dump
lit,0,A
star-x-size,B
loop,Z dumpone,ABZ
bye
end


fn,dumpone type,float,X type,float,Y
star-x-i,Xa star-y-i,Ya
c printf("%0.2f %0.2f\n", *X, *Y);
inc,a lt,abz
end

fn,bye
c exit(0);


pro #include <stdio.h>
pro #include <stdlib.h>
anx int main() { udp_setup(); populate(); dump(); for(;;) udp_handler(); }

