
pool star_x 65536 float
pool star_y 65536 float
pool rng_state 1 uint32_t


fn rng_stateless
lit 48271UL A
lit 2147483647UL B
mul Aaa 
mod aBa
inc a
end

fn rng
fetch rng_state A
rng_stateless A
mov Aa
store rng_state a
end

fn frng
type float a
rng A
mov Aa
end


fn create
type float A
frng A
storei star_x Aa
frng A
storei star_y Aa
inc a
lt abz
c printf("CR %llu %llu %llu\n", a[0], b[0], z[0]);
end

fn populate
lit 0 A
size star_x B
loop Z create ABZ
end

fn dump
lit 0 A
size star_x B
loop Z dumpone ABZ
end


fn dumpone
type float X
type float Y
fetchi star_x Xa
fetchi star_y Ya
c printf("%0.2f %0.2f\n", *X, *Y);
inc a
lt abz
end


pro #include <stdio.h>
anx int main() { populate(); dump(); }

